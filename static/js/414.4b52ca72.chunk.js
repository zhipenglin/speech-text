(self.webpackChunk_kne_components_speech_text=self.webpackChunk_kne_components_speech_text||[]).push([[414],{5764:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5764,e.exports=t},9666:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var s=n(7783),a=n(8833);const o={name:"speech-text",summary:'<h1>speech-text</h1>\n<h3>\u5b89\u88c5</h3>\n<pre><code class="language-shell">npm i --save @kne-components/speech-text\n</code></pre>',packageName:"@kne-components/speech-text",api:'<h4>\u9ed8\u8ba4\u5bfc\u51fa speech(options):Promise</h4>\n<p>example:</p>\n<pre><code class="language-javascript">const {start, stop} = await speech(options);\n</code></pre>\n<h4>options:Object</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>url</td>\n<td>\u4e0a\u4f20\u6587\u4ef6\u8bed\u97f3\u8bc6\u522b\u76ee\u6807\u63a5\u53e3\u5730\u5740</td>\n<td>string</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>\u5f00\u59cb\u5f55\u97f3 start():Promise</h4>\n<p>example:</p>\n<pre><code class="language-javascript">await start();\n</code></pre>\n<h4>\u7ed3\u675f\u5f55\u97f3 stop():Promise</h4>\n<p>example:</p>\n<pre><code class="language-javascript">const response = await stop();\nconst {code, message} = response.data;\n</code></pre>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u8bf4\u660e</th>\n<th>\u7c7b\u578b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>code</td>\n<td>\u540e\u7aef\u63a5\u53e3\u8fd4\u56de\u72b6\u6001\u503c,200\u4e3a\u6210\u529f</td>\n<td>number</td>\n<td>-</td>\n</tr>\n<tr>\n<td>message</td>\n<td>\u8bed\u97f3\u8f6c\u6362\u7ed3\u679c</td>\n<td>string</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>',example:{isFull:!1,className:"speech_text_e4cb6",style:".speech_text_e4cb6 .ant-card {\n  border-color: black;\n  text-align: center;\n  width: 200px;\n}",list:[{title:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u6807\u9898",description:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u8bf4\u660e",code:"const {default: SpeechText} = _SpeechText;\nconst {Button, Alert, Flex} = antd;\nconst {useState, useEffect, useRef} = React;\n\nconst BaseExample = () => {\n    const [message, setMessage] = useState({type: 'info', message: '\u5c1a\u672a\u5f00\u59cb'});\n    const [recording, setRecording] = useState(false);\n    const recordRef = useRef(null);\n    useEffect(() => {\n        recordRef.current = SpeechText({url: 'https://ct.deeperagi.com/action/papi/ai/vCMA01/uploadWavFile'});\n    }, []);\n    return <Flex vertical gap={10}>\n        <Alert type={message.type} message={message.message}/>\n        <div>\n            <Button onClick={() => {\n                recordRef.current.then(async ({start, stop}) => {\n                    setMessage({type: 'warning', message: '\u6b63\u5728\u8bc6\u522b\uff0c\u8bf7\u7a0d\u7b49'});\n                    if (recording) {\n                        const {data} = await stop();\n                        if (data.code === 200) {\n                            setMessage({type: 'success', message: data.message || '\u672a\u8bc6\u522b\u5230\u8bed\u97f3\u5185\u5bb9'});\n                        } else {\n                            setMessage({type: 'error', message: '\u8f6c\u6362\u9519\u8bef'});\n                        }\n                    } else {\n                        setMessage({type: 'warning', message: '\u5f00\u59cb\u8bed\u97f3\u8bc6\u522b'});\n                        start();\n                    }\n                    setRecording(!recording);\n                });\n            }}>{recording ? '\u6b63\u5728\u5f55\u5236' : '\u70b9\u51fb\u5f00\u59cb'}</Button>\n        </div>\n    </Flex>;\n};\n\nrender(<BaseExample/>);\n\n",scope:[{name:"_SpeechText",packageName:"@kne/current-lib_speech-text",component:s},{name:"antd",packageName:"antd",component:a}]}]}}},1448:(e,t,n)=>{"use strict";var s=n(4922),a=n.n(s),o=n(7558),r=n(5199),c=n(9946),p=n.n(c),d=n(3050),l=n(1488),i=n.n(l),m=n(9261);window.PUBLIC_URL="/speech-text";const h={remote:"components-core",url:"https://registry.npmmirror.com",tpl:"{{url}}/@kne-components%2f{{remote}}/{{version}}/files/build",defaultVersion:"0.1.10"};(0,d.preset)({remotes:{default:h,"components-core":h,"components-iconfont":{remote:"components-iconfont",url:"https://registry.npmmirror.com",tpl:"{{url}}/@kne-components%2f{{remote}}/{{version}}/files/build",defaultVersion:"0.1.3"}}});const u=(()=>{const e=p().create({validateStatus:function(){return!0}});return t=>t.hasOwnProperty("loader")&&"function"===typeof t.loader?Promise.resolve(t.loader(i()(t,["loader"]))).then((e=>({data:{code:0,data:e}}))).catch((e=>(r.message.error(e.message||"\u8bf7\u6c42\u53d1\u751f\u9519\u8bef"),{data:{code:500,msg:e.message}}))):e(t)})();(0,o.preset)({ajax:u,loading:(0,m.jsx)(r.Spin,{delay:500,style:{position:"absolute",left:"50%",padding:"10px",transform:"translateX(-50%)"}}),error:null,empty:(0,m.jsx)(r.Empty,{}),transformResponse:e=>{const{data:t}=e;return e.data={code:0===t.code?200:t.code,msg:t.msg,results:t.data},e}});var g=n(5457),x=n(4679),f=n(4152),y=n.n(f),k=(n(1296),n(6446));const b=y().ExampleRoutes,v=e=>{let{preset:t,themeToken:n,...s}=e;return(0,m.jsx)(x.HashRouter,{children:(0,m.jsx)(b,{...s,paths:[{key:"components",path:"/",title:"\u9996\u9875"}],preset:t,themeToken:n,readme:k.default,pageProps:{menu:null}})})};g.createRoot(document.getElementById("root")).render((0,m.jsx)(a().StrictMode,{children:(0,m.jsx)(v,{preset:{ajax:u},themeToken:{colorPrimary:"#4F185A"}})}))}}]);
//# sourceMappingURL=414.4b52ca72.chunk.js.map